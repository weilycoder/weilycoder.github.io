---
title: BIOS 中断调用 (int 10H)
date: 2025-10-07 09:13:01
updated: 2025-10-07 09:13:01
categories:
  - project
tags:
  - ASM
  - BIOS
  - OS
---

用于在实模式下在屏幕显示。

使用 `ax,bx,cx,dx` 传入参数或接收返回值，使用 `INT 0x10` 调用。

例如：

```x86asm
mov ah, 0x0e
mov al, '!'
int 0x10
```

|            Func            |          Code          | Args                                                         | Ret                                                          |
| :------------------------: | :--------------------: | :----------------------------------------------------------- | :----------------------------------------------------------- |
|        设置显示模式        |        `AH=00H`        | `AL`：显示模式                                               | `AL`：显示模式表示 / CRT 控制模式字节                        |
|      设置文本方式光标      |        `AH=01H`        | `CH`：行扫描开始；<br />`CL`：行扫描结束。<br />正常光标为 `CX=0607H`；<br />`CX=0707H` 要窄一些；<br />`CX=0007` 为整块光标。<br />`CH` 第 5 位通常表示隐藏光标，如 `CX=2607H`。<br />有些显卡支持 `00h-0Fh` 的扫描线。<br />有些显卡不支持第 5 位，可以尝试 `CX=0706H`。 |                                                              |
|        设置光标位置        |        `AH=02H`        | `BH`：页码；<br />`DH`：行；<br />`DL`：列。                 |                                                              |
|        获取光标状态        |        `AH=03H`        | `BH`：页码。                                                 | `AX=0`；<br />`CH`：行扫描开始；<br />`CL`：行扫描结束；<br />`DH`：行；<br />`DL`：列。 |
|        读取光笔位置        |        `AH=04H`        |                                                              | `AH`：状态（0：无触发，1：触发）；<br/>`BX`：X 像素；<br/>`CH`：Y 像素；<br/>`CL`：像素行模式（`0FH`-`10H`）；<br/>`DH`：字符 Y；<br/>`DL`：字符 X。 |
|       选择活动显示页       |       ` AH=05H`        | `AL`：页码。                                                 |                                                              |
|        向上滚动窗口        |        `AH=06H`        | `AL`：滚动的行（0：清除，使用 `CH`,`CL`,`DH`,`DL`）；<br />`BH`：背景色、前景色；<br />`CH`：高行数；<br />`CL`：左列数；<br />`DH`：低行数；<br />`DL`：右列数。 |                                                              |
|        向下滚动窗口        |        `AH=07H`        | 参考 `AH=06H`。                                              |                                                              |
| 读光标所在位置的字符和属性 |        `AH=08H`        | `BH`：页码。                                                 | `AH`：颜色；<br />`AL`：字符。                               |
| 在当前光标位置写字符和属性 |        `AH=09H`        | `AL`：字符；<br />`BH`：页码；<br />`BL`：颜色；<br />`CX`：多次打印字符。 |                                                              |
|     在光标位置写入字符     |        `AH=0AH`        | `AL`：字符；<br />`BH`：页码；<br />`CX`：多次打印字符。     |                                                              |
|    设置背景 / 边框颜色     | `AH=0BH`<br />`BH=01H` | `BL`：背景/边框颜色。                                        |                                                              |
|         设置调色板         |        `AH=0BH`        | `BL`：调色板 ID。                                            |                                                              |
|         写图形像素         |        `AH=0CH`        | `AL`：颜色；<br />`BH`：页码；<br />`CX`：X；`DX`：Y。       |                                                              |
|         读图形像素         |        `AH=0DH`        | `BH`：页码；<br />`CX`：X；`DX`：Y。                         | `AL`：颜色。                                                 |
|       电传打字机输出       |        `AH=0EH`        | `AL`：字符；<br />`BH`：页码；<br />`BL`：颜色。             |                                                              |
|      获取当前显示模式      |        `AH=0FH`        |                                                              | `AH`：屏幕字符列数；<br />`AL`：显示模式；<br />`BH`：页码。 |
|          写字符串          |        `AH=13H`        | `AL`：写模式；<br />`BH`：页码；<br />`BL`：颜色；<br />`CX`：字符串长度；<br />`DH`：行；`DL`：列<br />`ES:BP`：字符串偏离量。 |                                                              |
